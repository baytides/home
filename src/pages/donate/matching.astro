---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Breadcrumb from '../../components/Breadcrumb.astro';

const structuredData = [
  {
    '@context': 'https://schema.org',
    '@type': 'WebPage',
    name: 'Double Your Donation - Corporate Matching Gifts',
    description:
      'Find out if your employer will match your donation to Bay Tides and double your impact.',
    url: 'https://baytides.org/donate/matching',
    isPartOf: {
      '@type': 'WebSite',
      name: 'Bay Tides',
      url: 'https://baytides.org',
    },
  },
  {
    '@context': 'https://schema.org',
    '@type': 'BreadcrumbList',
    itemListElement: [
      { '@type': 'ListItem', position: 1, name: 'Home', item: 'https://baytides.org/' },
      { '@type': 'ListItem', position: 2, name: 'Donate', item: 'https://baytides.org/donate' },
      { '@type': 'ListItem', position: 3, name: 'Matching Gifts' },
    ],
  },
];
---

<BaseLayout
  title="Double Your Donation"
  description="Many employers match charitable donations. Use our matching gift tool to find out if your company will double your gift to Bay Tides."
  canonicalUrl="https://baytides.org/donate/matching"
  structuredData={structuredData}
>
  <Breadcrumb
    items={[
      { label: 'Home', href: '/' },
      { label: 'Donate', href: '/donate' },
      { label: 'Matching Gifts' },
    ]}
  />

  <section class="hero hero-page">
    <div class="container">
      <h1>Double Your Donation</h1>
      <p>Many employers match charitable contributions, doubling or even tripling your impact</p>
    </div>
  </section>

  <section class="content-section">
    <div class="container">
      <div class="matching-content">
        <div class="matching-intro">
          <h2>Does Your Employer Match Gifts?</h2>
          <p>
            Thousands of companies offer matching gift programs that can multiply your donation to
            Bay Tides. Use the search tool below to find out if your employer participates.
          </p>
          <p>
            Corporate matching gifts are one of the easiest ways to increase your charitable impact.
            Some companies match donations dollar-for-dollar, while others may double or even triple
            your contribution.
          </p>
        </div>

        <div class="matching-widget">
          <div class="matching-search-container">
            <!-- Double the Donation 360MatchPro Plugin -->
            <link href="https://doublethedonation.com/api/css/ddplugin.css" rel="stylesheet" />
            <div id="dd-container" class="dtd-widget-container"></div>
            <script is:inline>
              var DDCONF = { API_KEY: '13qDoFLXlus5V13X' };
            </script>
            <script src="https://doublethedonation.com/api/js/ddplugin.js"></script>
          </div>
        </div>

        <div class="matching-info">
          <h3>How It Works</h3>
          <ol role="list">
            <li>
              <strong>Search for your employer</strong> using the tool above to see if they offer a matching
              gift program.
            </li>
            <li>
              <strong>Make your donation</strong> to Bay Tides through our{' '}
              <a href="/donate">donation page</a>.
            </li>
            <li>
              <strong>Submit a matching request</strong> through your employer's giving portal or HR department.
            </li>
            <li>
              <strong>Your employer matches</strong> your gift, doubling your impact for the Bay.
            </li>
          </ol>
        </div>

        <div class="matching-help">
          <h3>Need Help?</h3>
          <p>
            If you have questions about matching gifts or need documentation for your employer's
            program, please <a href="/contact">contact us</a>. We're happy to provide any
            information needed to complete your matching gift request.
          </p>
          <p>
            <strong>Bay Tides EIN:</strong> 93-3889081
          </p>
        </div>

        <div class="matching-cta">
          <a href="/checkout" class="btn btn-primary btn-large">Donate Now</a>
          <p>Then check if your employer will match your gift</p>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .matching-content {
    max-width: 800px;
    margin: 0 auto;
  }

  .matching-intro {
    margin-bottom: 3rem;
    text-align: center;
  }

  .matching-intro h2 {
    margin-bottom: 1.5rem;
  }

  .matching-intro p {
    font-size: 1.125rem;
    line-height: 1.8;
    color: var(--text-light);
    margin-bottom: 1rem;
  }

  .matching-widget {
    background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
    border-radius: 16px;
    padding: 2.5rem;
    margin-bottom: 3rem;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.05),
      0 10px 30px -5px rgba(0, 0, 0, 0.08),
      0 0 0 1px rgba(0, 0, 0, 0.03);
    border-top: 4px solid var(--primary-blue);
  }

  /* Search Widget Container */
  .matching-search-container {
    max-width: 600px;
    margin: 0 auto;
  }

  /* Double the Donation Widget Container */
  .dtd-widget-container {
    position: relative;
    min-height: 60px;
  }

  /*
   * Override DTD plugin default styles
   * The plugin renders everything inside #dd-container
   */
  #dd-container {
    font-family: inherit;
  }

  /* Ensure all text has good contrast (dark text on white backgrounds) */
  #dd-container,
  #dd-container * {
    color: #1a202c;
  }

  /* Style headings */
  #dd-container h3,
  #dd-container h4 {
    color: #1a365d !important;
    margin-bottom: 0.75rem !important;
  }

  #dd-container p {
    color: #1a202c !important;
    line-height: 1.6 !important;
  }

  /* Style links */
  #dd-container a {
    color: #1e40af !important;
  }

  #dd-container a:hover {
    color: #1e3a8a !important;
  }

  /* Style the search input */
  #dd-container input,
  #dd-container input[type='text'] {
    width: 100% !important;
    padding: 1rem 1.25rem !important;
    font-size: 1rem !important;
    font-family: inherit !important;
    border: 2px solid #e2e8f0 !important;
    border-radius: 12px !important;
    background: #fff !important;
    color: #1a202c !important;
    box-sizing: border-box !important;
  }

  #dd-container input:focus,
  #dd-container input[type='text']:focus {
    outline: none !important;
    border-color: #2b6cb0 !important;
    box-shadow: 0 0 0 3px rgba(43, 108, 176, 0.15) !important;
  }

  #dd-container input::placeholder,
  #dd-container input[type='text']::placeholder {
    color: #718096 !important;
  }

  /* Style dropdown results */
  #dd-container ul {
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    background: #fff !important;
    border: 2px solid #2b6cb0 !important;
    border-top: none !important;
    border-radius: 0 0 12px 12px !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
    max-height: 300px !important;
    overflow-y: auto !important;
  }

  #dd-container li {
    padding: 0.875rem 1.25rem !important;
    cursor: pointer !important;
    color: #1a202c !important;
    font-size: 0.9375rem !important;
    border-bottom: 1px solid #e2e8f0 !important;
    background: #fff !important;
    margin: 0 !important;
  }

  #dd-container li:last-child {
    border-bottom: none !important;
    border-radius: 0 0 10px 10px !important;
  }

  #dd-container li:hover {
    background: #f0f7ff !important;
  }

  /* Style buttons */
  #dd-container button {
    display: inline-block !important;
    padding: 0.75rem 1.5rem !important;
    background: #2b6cb0 !important;
    color: #fff !important;
    border: none !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
  }

  #dd-container button:hover {
    background: #1a365d !important;
  }

  /* Mobile Responsive */
  @media (max-width: 600px) {
    .matching-widget {
      padding: 1.5rem;
    }

    .search-label {
      font-size: 1rem;
    }

    #dd-container input[type='text'] {
      padding: 0.875rem 1rem !important;
    }

    #dd-container li {
      padding: 0.75rem 1rem !important;
    }
  }

  .matching-info {
    margin-bottom: 3rem;
  }

  .matching-info h3 {
    margin-bottom: 1.5rem;
    color: var(--primary-navy);
  }

  .matching-info ol {
    list-style: none;
    padding: 0;
    counter-reset: steps;
  }

  .matching-info li {
    counter-increment: steps;
    padding: 1rem 0 1rem 3.5rem;
    position: relative;
    border-bottom: 1px solid var(--border-color, #e2e8f0);
  }

  .matching-info li:last-child {
    border-bottom: none;
  }

  .matching-info li::before {
    content: counter(steps);
    position: absolute;
    left: 0;
    top: 1rem;
    width: 2rem;
    height: 2rem;
    background: var(--primary-navy);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.875rem;
  }

  /* Ensure screen readers announce the list properly */
  .matching-info ol[role='list'] {
    list-style: none;
  }

  .matching-help {
    background: var(--cream);
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 3rem;
  }

  .matching-help h3 {
    margin-bottom: 1rem;
    color: var(--primary-navy);
  }

  .matching-help p {
    margin-bottom: 0.75rem;
  }

  .matching-help p:last-child {
    margin-bottom: 0;
  }

  .matching-cta {
    text-align: center;
    padding: 2rem 0;
  }

  .matching-cta p {
    margin-top: 1rem;
    color: var(--text-light);
    font-size: 0.9375rem;
  }

  /* Dark mode overrides for light-background elements */
  :global([data-theme='dark']) .matching-search {
    background: var(--bg-secondary);
  }

  :global([data-theme='dark']) .search-input-wrapper input {
    background: var(--bg-primary);
    border-color: rgba(255, 255, 255, 0.1);
    color: var(--text-dark);
  }

  :global([data-theme='dark']) .popular-companies li {
    background: var(--bg-primary);
    color: var(--text-dark);
  }

  :global([data-theme='dark']) .matching-help {
    background: var(--bg-secondary);
  }
</style>
